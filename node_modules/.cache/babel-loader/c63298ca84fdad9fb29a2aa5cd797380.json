{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue","mtime":1616862459139},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616506645671},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1616506657299},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\babel-loader\\lib\\index.js","mtime":1616506645397},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616506645671},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616506657635}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWF0dGUvRGVza3RvcC9wYXBlcm8vY29zbW9zLnBhcGVyby5tZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAqIGFzIFBoYXNlciBmcm9tICJwaGFzZXIiOwppbXBvcnQgeyBjb25maWcsIHN0cmluZ3MgfSBmcm9tICIuLi8uLi9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IExvYmJ5U2NlbmUgZnJvbSAiLi4vLi4vcGhhc2VyL0xvYmJ5U2NlbmUiOwppbXBvcnQgQ2hhbmdlQ29sb3IgZnJvbSAiLi9sb2JieUNvbXBvbmVudHMvQ2hhbmdlQ29sb3IiOwppbXBvcnQgQ29weUluZm9ybWF0aW9uIGZyb20gIi4vbG9iYnlDb21wb25lbnRzL0NvcHlJbmZvcm1hdGlvbiI7CmltcG9ydCB3ZWJzb2NrZXRFdmVudHMgZnJvbSAiLi4vLi4vY29uc3RhbnRzL3dlYnNvY2tldEV2ZW50cyI7CmltcG9ydCBHYW1lU2V0dGluZ3MgZnJvbSAiLi9sb2JieUNvbXBvbmVudHMvR2FtZVNldHRpbmdzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2JieSIsCiAgY29tcG9uZW50czogewogICAgR2FtZVNldHRpbmdzOiBHYW1lU2V0dGluZ3MsCiAgICBDb3B5SW5mb3JtYXRpb246IENvcHlJbmZvcm1hdGlvbiwKICAgIENoYW5nZUNvbG9yOiBDaGFuZ2VDb2xvcgogIH0sCiAgcHJvcHM6IHsKICAgIHNvY2tldDogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RyaW5nczogc3RyaW5ncywKICAgICAgd2Vic29ja2V0RXZlbnRzOiB3ZWJzb2NrZXRFdmVudHMsCiAgICAgIGdhbWU6IHsKICAgICAgICBzZXR0aW5nczogewogICAgICAgICAgdG90YWxUdXJuczogNSwKICAgICAgICAgIHZlbG9jaXR5OiAyLAogICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAyLAogICAgICAgICAgcmVsb2FkaW5nVmVsb2NpdHk6IDIsCiAgICAgICAgICBidWxsZXRWZWxvY2l0eTogMgogICAgICAgIH0KICAgICAgfSwKICAgICAgcGhhc2VyU2NlbmU6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXllcnMtd3JhcHBlciIpOwogICAgdGhpcy5waGFzZXJTY2VuZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcobmV3IExvYmJ5U2NlbmUodGhpcy5zb2NrZXQpLCBwYXJlbnQsIE1hdGgubWluKHBhcmVudC5vZmZzZXRXaWR0aCwgcGFyZW50Lm9mZnNldEhlaWdodCksIE1hdGgubWluKHBhcmVudC5vZmZzZXRXaWR0aCwgcGFyZW50Lm9mZnNldEhlaWdodCkpKTsKICAgIHRoaXMuc29ja2V0Lm9uKHdlYnNvY2tldEV2ZW50cy5MT0JCWV9NT0RJRklFRCwgZnVuY3Rpb24gKGdhbWUpIHsKICAgICAgY29uc29sZS5sb2coZ2FtZSk7CiAgICAgIF90aGlzLmdhbWUgPSBfb2JqZWN0U3ByZWFkKHt9LCBnYW1lKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdhbWVJZDogZnVuY3Rpb24gZ2FtZUlkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLmdhbWVJZDsKICAgIH0sCiAgICBpc0FkbWluOiBmdW5jdGlvbiBpc0FkbWluKCkgewogICAgICByZXR1cm4gdGhpcy5nYW1lLmFkbWluID09PSB0aGlzLmdhbWUuY3VycmVudFBsYXllcjsKICAgIH0sCiAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCkgewogICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBqb2luR2FtZTogZnVuY3Rpb24gam9pbkdhbWUoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQod2Vic29ja2V0RXZlbnRzLkpPSU5fR0FNRSk7CiAgICB9CiAgfSwKICB1bm1vdW50ZWQ6IGZ1bmN0aW9uIHVubW91bnRlZCgpIHsKICAgIHRoaXMucGhhc2VyU2NlbmUuZGVzdHJveSh0cnVlKTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue"],"names":[],"mappings":";AA0BA,OAAO,KAAK,MAAZ,MAAwB,QAAxB;AACA,SAAQ,MAAR,EAAgB,OAAhB,QAA8B,2BAA9B;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,WAAP,MAAwB,+BAAxB;AACA,OAAO,eAAP,MAA4B,mCAA5B;AACA,OAAO,eAAP,MAA4B,iCAA5B;AACA,OAAO,YAAP,MAAyB,gCAAzB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,YAAY,EAAZ,YAAD;AAAe,IAAA,eAAe,EAAf,eAAf;AAAgC,IAAA,WAAW,EAAX;AAAhC,GAFC;AAGb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AADH,GAHM;AAMb,EAAA,IANa,kBAMP;AACJ,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,eAAe,EAAf,eAFK;AAGL,MAAA,IAAI,EAAE;AACJ,QAAA,QAAQ,EAAE;AACR,UAAA,UAAU,EAAE,CADJ;AAER,UAAA,QAAQ,EAAE,CAFF;AAGR,UAAA,eAAe,EAAE,CAHT;AAIR,UAAA,iBAAiB,EAAE,CAJX;AAKR,UAAA,cAAc,EAAE;AALR;AADN,OAHD;AAYL,MAAA,WAAW,EAAE;AAZR,KAAP;AAcD,GArBY;AAsBb,EAAA,OAtBa,qBAsBH;AAAA;;AACR,QAAI,MAAK,GAAI,QAAQ,CAAC,cAAT,CAAwB,iBAAxB,CAAb;AACA,SAAK,WAAL,GAAmB,IAAI,MAAM,CAAC,IAAX,CACf,MAAM,CACF,IAAI,UAAJ,CAAe,KAAK,MAApB,CADE,EAEF,MAFE,EAGF,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,MAAM,CAAC,YAApC,CAHE,EAIF,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,MAAM,CAAC,YAApC,CAJE,CADS,CAAnB;AAOA,SAAK,MAAL,CAAY,EAAZ,CAAe,eAAe,CAAC,cAA/B,EAA+C,UAAC,IAAD,EAAQ;AACrD,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,MAAA,KAAI,CAAC,IAAL,qBAAgB,IAAhB;AACD,KAHD;AAID,GAnCY;AAoCb,EAAA,QAAQ,EAAE;AACR,IAAA,MAAM,EAAE,kBAAY;AAClB,aAAO,KAAK,MAAL,CAAY,MAAZ,CAAmB,MAA1B;AACD,KAHO;AAIR,IAAA,OAAO,EAAE,mBAAW;AAClB,aAAO,KAAK,IAAL,CAAU,KAAV,KAAoB,KAAK,IAAL,CAAU,aAArC;AACD,KANO;AAOR,IAAA,IAAI,EAAE,gBAAU;AACd,aAAO,MAAM,CAAC,QAAP,CAAgB,IAAvB;AACF;AATQ,GApCG;AA+Cb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACG;AACR,WAAK,MAAL,CAAY,IAAZ,CAAiB,eAAe,CAAC,SAAjC;AACF;AAHO,GA/CI;AAoDb,EAAA,SApDa,uBAoDD;AACV,SAAK,WAAL,CAAiB,OAAjB,CAAyB,IAAzB;AACF;AAtDa,CAAf","sourcesContent":["<template>\r\n  <div class=\"lobby\">\r\n    <h1>{{gameId}}</h1>\r\n\r\n    <GameSettings  v-if=\"game.currentPlayer!==null\"\r\n                   :game=\"game\"\r\n                   :socket=\"socket\"/>\r\n\r\n    <button class=\"join-button\" v-else @click=\"joinGame\">{{strings.gameView.lobby.joinLobby}}</button>\r\n\r\n    <div id=\"players-wrapper\">\r\n      <div>\r\n        <img src=\"../../assets/space-key-icon.png\"/>\r\n        <img src=\"../../assets/enter-key-icon.png\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"infos\">\r\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\r\n      <CopyInformation :msg=\"strings.gameView.lobby.shareTheLink\" :info=\"link\"/>\r\n      <CopyInformation :msg=\"strings.gameView.lobby.copyTag\" :info=\"gameId\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Phaser from \"phaser\";\r\nimport {config, strings} from \"../../constants/constants\";\r\nimport LobbyScene from \"../../phaser/LobbyScene\";\r\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\r\nimport CopyInformation from \"./lobbyComponents/CopyInformation\";\r\nimport websocketEvents from \"../../constants/websocketEvents\";\r\nimport GameSettings from \"./lobbyComponents/GameSettings\";\r\nexport default {\r\n  name: \"Lobby\",\r\n  components: {GameSettings, CopyInformation, ChangeColor},\r\n  props: {\r\n    socket: Object\r\n  },\r\n  data(){\r\n    return {\r\n      strings,\r\n      websocketEvents,\r\n      game: {\r\n        settings: {\r\n          totalTurns: 5,\r\n          velocity: 2,\r\n          angularVelocity: 2,\r\n          reloadingVelocity: 2,\r\n          bulletVelocity: 2\r\n        }\r\n      },\r\n      phaserScene: null\r\n    }\r\n  },\r\n  mounted() {\r\n    let parent = document.getElementById(\"players-wrapper\");\r\n    this.phaserScene = new Phaser.Game(\r\n        config(\r\n            new LobbyScene(this.socket),\r\n            parent,\r\n            Math.min(parent.offsetWidth, parent.offsetHeight),\r\n            Math.min(parent.offsetWidth, parent.offsetHeight)\r\n        ));\r\n    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\r\n      console.log(game);\r\n      this.game = {...game};\r\n    });\r\n  },\r\n  computed: {\r\n    gameId: function () {\r\n      return this.$route.params.gameId;\r\n    },\r\n    isAdmin: function (){\r\n      return this.game.admin === this.game.currentPlayer;\r\n    },\r\n    link: function(){\r\n      return window.location.href;\r\n    }\r\n  },\r\n  methods: {\r\n    joinGame(){\r\n      this.socket.emit(websocketEvents.JOIN_GAME);\r\n    }\r\n  },\r\n  unmounted() {\r\n    this.phaserScene.destroy(true);\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.lobby{\r\n  width: 100%;\r\n  height: 100%;\r\n  display: grid;\r\n  justify-items: center;\r\n  @media (min-width: 751px) {\r\n    grid-template-rows: 20% 80%;\r\n    grid-template-columns: 30% 40% 30%;\r\n    grid-template-areas: \"title title title\" \"settings phaser infos\";\r\n  }\r\n  @media (max-width: 751px) {\r\n    grid-template-rows: auto 300px auto auto;\r\n    grid-template-columns: 1fr;\r\n    grid-template-areas: \"title\" \"phaser\" \"infos\" \"settings\";\r\n    overflow: scroll;\r\n  }\r\n\r\n  h1{\r\n    grid-area: title;\r\n  }\r\n\r\n  .join-button{\r\n    grid-area: settings;\r\n    height: fit-content;\r\n    align-self: center;\r\n  }\r\n\r\n  #players-wrapper{\r\n    width: 80%;\r\n    height: 80%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    grid-area: phaser;\r\n    margin-top: 20px;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    div{\r\n      display: flex;\r\n      margin: 10px;\r\n\r\n      img{\r\n        margin: 10px;\r\n        height: 50px;\r\n        width: auto;\r\n      }\r\n    }\r\n  }\r\n\r\n  .infos{\r\n    grid-area: infos;\r\n    width: 100%;\r\n    height: 80%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    justify-content: space-evenly;\r\n  }\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}