{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/eslint-loader/index.js??ref--13-0!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/phaser/maps.js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/phaser/maps.js","mtime":1618504369220},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1618298483685},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1618298485037},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/babel-loader/lib/index.js","mtime":1618298483657},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/eslint-loader/index.js","mtime":1618298483941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2phY29wby9Wb2x1bWVEYXRpL0RvY3VtZW50aS9wYXBlcm8udGsvY29zbW9zLnBhcGVyby5tZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL21lZGlhL2phY29wby9Wb2x1bWVEYXRpL0RvY3VtZW50aS9wYXBlcm8udGsvY29zbW9zLnBhcGVyby5tZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHsgZ2V0Q2VudGVyZWRDcm9zcywgZ2V0Q2VudGVyZWRTcXVhcmUsIGdldE1vdmluZ1NsYWxvbSwgZ2V0U3RhcnRpbmdQcmlzb25zCi8qZ2V0TW92aW5nVmVydGljYWwsKi8KLCBnZXRNaXhlZE9yaXpvbnRhbExpbmUgfSBmcm9tICIuLi9jb25zdGFudHMvbWFwQ29uc3RhbnRzIjsKaW1wb3J0IHsgZ2V0Qm9keUZyb21Db2xsaXNpb24gfSBmcm9tICIuL3NjZW5lIjsKdmFyIG1hcHMgPSBbW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShnZXRTdGFydGluZ1ByaXNvbnMoKSksIF90b0NvbnN1bWFibGVBcnJheShnZXRDZW50ZXJlZFNxdWFyZSg1KSkpLCBfdG9Db25zdW1hYmxlQXJyYXkoZ2V0TW92aW5nU2xhbG9tKDQpKSwgW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShnZXRDZW50ZXJlZENyb3NzKDUwMCwgMTAwKSksIF90b0NvbnN1bWFibGVBcnJheShnZXRDZW50ZXJlZFNxdWFyZSgzKSkpLCBfdG9Db25zdW1hYmxlQXJyYXkoZ2V0TWl4ZWRPcml6b250YWxMaW5lKCkpXTsKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChjdHgpIHsKICB2YXIgbWFwID0gbWFwc1tjdHgubWFwXTsKICBtYXAuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7CiAgICB2YXIgbyA9IGN0eC5tYXR0ZXIuYWRkLmltYWdlKG9iai5wb3NpdGlvbi54LCBvYmoucG9zaXRpb24ueSwgb2JqLnRleHR1cmUsIG51bGwsIF9vYmplY3RTcHJlYWQoe30sIGN0eC5kZWZhdWx0SW1hZ2VPcHRpb25zKSk7CiAgICBvLnNldENvbGxpc2lvbkNhdGVnb3J5KGN0eC5tYXBPYmplY3RDYXRlZ29yeSk7CiAgICAvKmlmKG9iai52ZWxvY2l0eSkgby5zZXRWZWxvY2l0eShvYmoudmVsb2NpdHkueCwgb2JqLnZlbG9jaXR5LnkpOwogICAgaWYob2JqLmJvdW5jZSkgby5zZXRCb3VuY2Uob2JqLmJvdW5jZSk7Ki8KCiAgICBvLnNldENvbGxpZGVzV2l0aChbMSwgY3R4LnNoaXBzQ2F0ZWdvcnksIGN0eC5idWxsZXRzQ2F0ZWdvcnksIGN0eC5wb3dlclVwc0NhdGVnb3J5XSk7CiAgICBvLnNldFN0YXRpYyh0cnVlKTsKICAgIG8uc2V0T25Db2xsaWRlKGZ1bmN0aW9uIChjb2xsaXNpb24pIHsKICAgICAgdmFyIGJvZHkgPSBnZXRCb2R5RnJvbUNvbGxpc2lvbihvLmJvZHkuaWQsIGNvbGxpc2lvbik7CgogICAgICBpZiAoYm9keS5nYW1lT2JqZWN0KSB7CiAgICAgICAgaWYgKG9iai5raWxsYWJsZSAmJiBib2R5LmNvbGxpc2lvbkZpbHRlci5jYXRlZ29yeSA9PT0gY3R4LmJ1bGxldHNDYXRlZ29yeSkgewogICAgICAgICAgby5kZXN0cm95KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9KTsKfSk7"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/phaser/maps.js"],"names":["getCenteredCross","getCenteredSquare","getMovingSlalom","getStartingPrisons","getMixedOrizontalLine","getBodyFromCollision","maps","ctx","map","forEach","obj","o","matter","add","image","position","x","y","texture","defaultImageOptions","setCollisionCategory","mapObjectCategory","setCollidesWith","shipsCategory","bulletsCategory","powerUpsCategory","setStatic","setOnCollide","collision","body","id","gameObject","killable","collisionFilter","category","destroy"],"mappings":";;;;;AAAA,SAAQA,gBAAR,EAA0BC,iBAA1B,EAA6CC,eAA7C,EAA8DC;AAAoB;AAAlF,EAAyGC,qBAAzG,QAAqI,2BAArI;AACA,SAAQC,oBAAR,QAAmC,SAAnC;AAEA,IAAMC,IAAI,GAAG,8BACLH,kBAAkB,EADb,sBACoBF,iBAAiB,CAAC,CAAD,CADrC,uBAELC,eAAe,CAAC,CAAD,CAFV,gCAGLF,gBAAgB,CAAC,GAAD,EAAM,GAAN,CAHX,sBAG0BC,iBAAiB,CAAC,CAAD,CAH3C,uBAIwBG,qBAAqB,EAJ7C,EAAb;AAOA,gBAAe,UAACG,GAAD,EAAS;AACpB,MAAMC,GAAG,GAAGF,IAAI,CAACC,GAAG,CAACC,GAAL,CAAhB;AACAA,EAAAA,GAAG,CAACC,OAAJ,CAAY,UAAAC,GAAG,EAAI;AACf,QAAMC,CAAC,GAAGJ,GAAG,CAACK,MAAJ,CAAWC,GAAX,CAAeC,KAAf,CAAqBJ,GAAG,CAACK,QAAJ,CAAaC,CAAlC,EAAqCN,GAAG,CAACK,QAAJ,CAAaE,CAAlD,EAAqDP,GAAG,CAACQ,OAAzD,EAAkE,IAAlE,oBAA4EX,GAAG,CAACY,mBAAhF,EAAV;AACAR,IAAAA,CAAC,CAACS,oBAAF,CAAuBb,GAAG,CAACc,iBAA3B;AACA;AACR;;AACQV,IAAAA,CAAC,CAACW,eAAF,CAAkB,CAAC,CAAD,EAAIf,GAAG,CAACgB,aAAR,EAAuBhB,GAAG,CAACiB,eAA3B,EAA4CjB,GAAG,CAACkB,gBAAhD,CAAlB;AACAd,IAAAA,CAAC,CAACe,SAAF,CAAY,IAAZ;AACAf,IAAAA,CAAC,CAACgB,YAAF,CAAe,UAAAC,SAAS,EAAI;AACxB,UAAMC,IAAI,GAAGxB,oBAAoB,CAACM,CAAC,CAACkB,IAAF,CAAOC,EAAR,EAAYF,SAAZ,CAAjC;;AACA,UAAGC,IAAI,CAACE,UAAR,EAAoB;AAChB,YAAGrB,GAAG,CAACsB,QAAJ,IAAgBH,IAAI,CAACI,eAAL,CAAqBC,QAArB,KAAkC3B,GAAG,CAACiB,eAAzD,EAAyE;AACrEb,UAAAA,CAAC,CAACwB,OAAF;AACH;AACJ;AACJ,KAPD;AAQH,GAfD;AAgBH,CAlBD","sourcesContent":["import {getCenteredCross, getCenteredSquare, getMovingSlalom, getStartingPrisons, /*getMovingVertical,*/ getMixedOrizontalLine} from \"../constants/mapConstants\";\nimport {getBodyFromCollision} from \"./scene\";\n\nconst maps = [\n    [...getStartingPrisons(), ...getCenteredSquare(5)],\n    [...getMovingSlalom(4)],\n    [...getCenteredCross(500, 100), ...getCenteredSquare(3)],\n    [/*...getMovingVertical(3), */...getMixedOrizontalLine()]\n];\n\nexport default (ctx) => {\n    const map = maps[ctx.map];\n    map.forEach(obj => {\n        const o = ctx.matter.add.image(obj.position.x, obj.position.y, obj.texture, null, {...ctx.defaultImageOptions});\n        o.setCollisionCategory(ctx.mapObjectCategory);\n        /*if(obj.velocity) o.setVelocity(obj.velocity.x, obj.velocity.y);\n        if(obj.bounce) o.setBounce(obj.bounce);*/\n        o.setCollidesWith([1, ctx.shipsCategory, ctx.bulletsCategory, ctx.powerUpsCategory]);\n        o.setStatic(true);\n        o.setOnCollide(collision => {\n            const body = getBodyFromCollision(o.body.id, collision);\n            if(body.gameObject) {\n                if(obj.killable && body.collisionFilter.category === ctx.bulletsCategory){\n                    o.destroy();\n                }\n            }\n        });\n    });\n};"]}]}