{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/views/Home.vue","mtime":1616572271770},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1616495189815},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1616495190967},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/babel-loader/lib/index.js","mtime":1616495189787},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1616495189815},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1616495190999}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgc3RyaW5ncywgdXJscyB9IGZyb20gIi4uL2NvbnN0YW50cy9jb25zdGFudHMiOwppbXBvcnQgVXNlckhhbWJ1cmdlck1lbnUgZnJvbSAiLi4vY29tcG9uZW50cy9Vc2VySGFtYnVyZ2VyTWVudSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR2FtZScsCiAgY29tcG9uZW50czogewogICAgVXNlckhhbWJ1cmdlck1lbnU6IFVzZXJIYW1idXJnZXJNZW51CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RyaW5nczogc3RyaW5ncywKICAgICAgc2hvd0hhbWJ1cmdlck1lbnU6IGZhbHNlLAogICAgICBzaG93UG9wdXA6IGZhbHNlLAogICAgICBwb3B1cE1lc3NhZ2U6ICIiLAogICAgICBpbnB1dDogIiIsCiAgICAgIGNob2ljZTogbnVsbCwKICAgICAgY29uZmlybUJ1dHRvbjogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KHVybHMuZ2V0R2FtZVN0YXR1c1VybCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ2FtZV9pZDogdGhpcy5pbnB1dC50b0xvd2VyQ2FzZSgpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBpZiAoX3RoaXMuY2hvaWNlID09PSAiam9pbiIpIHsKICAgICAgICAgICAgX3RoaXMucG9wdXBNZXNzYWdlID0gc3RyaW5ncy5ob21lVmlldy5nYW1lRG9lc05vdEV4aXN0czsKICAgICAgICAgICAgX3RoaXMuY29uZmlybUJ1dHRvbiA9IHN0cmluZ3MuaG9tZVZpZXcuY3JlYXRlR2FtZUJ1dHRvbjsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuY2hvaWNlID09PSAiY3JlYXRlIikgewogICAgICAgICAgICBfdGhpcy5wb3B1cE1lc3NhZ2UgPSBzdHJpbmdzLmhvbWVWaWV3LmdhbWVBbHJlYWR5RXhpc3RzOwogICAgICAgICAgICBfdGhpcy5jb25maXJtQnV0dG9uID0gc3RyaW5ncy5ob21lVmlldy5qb2luR2FtZUJ1dHRvbjsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5zaG93UG9wdXAgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiR2FtZSIsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGdhbWVJZDogX3RoaXMuaW5wdXQKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkdhbWUiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ2FtZUlkOiB0aGlzLmlucHV0CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5zdGF0ZS5sb2dnZWQgPT09IC0xIHx8IHN0b3JlLnN0YXRlLnVzZXJuYW1lID09PSAiIikgewogICAgICBheGlvcy5nZXQodXJscy5nZXRMb2dpbkluZm9VcmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRMb2dnZWQiLCByZXNwb25zZS5kYXRhLmdvb2dsZV9zaWduZWRfaW4pOwogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldFVzZXJuYW1lIiwgcmVzcG9uc2UuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICBuZXh0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRMb2dnZWQiLCBmYWxzZSk7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0VXNlcm5hbWUiLCBudWxsKTsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhdGlvbi5ocmVmID0gbG9jYXRpb24ub3JpZ2luICsgIi9lcnJvcj9mcm9tPSIgKyBsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgfSk7CiAgICB9IGVsc2UgbmV4dCgpOwogIH0KfTs="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/cosmos.papero.me/src/views/Home.vue"],"names":[],"mappings":"AAwCA,SAAQ,OAAR,EAAiB,IAAjB,QAA4B,wBAA5B;AACA,OAAO,iBAAP,MAA8B,iCAA9B;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAP,MAAkB,UAAlB;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,iBAAiB,EAAjB;AAAD,GAFC;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,OADJ;AAEL,MAAA,iBAAiB,EAAE,KAFd;AAGL,MAAA,SAAS,EAAE,KAHN;AAIL,MAAA,YAAY,EAAE,EAJT;AAKL,MAAA,KAAK,EAAE,EALF;AAML,MAAA,MAAM,EAAE,IANH;AAOL,MAAA,aAAa,EAAE;AAPV,KAAP;AASD,GAbY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,IADO,kBACD;AAAA;;AACJ,MAAA,KAAI,CACC,GADL,CACS,IAAI,CAAC,gBADd,EACgC;AAAC,QAAA,MAAM,EAAE;AAAC,UAAA,OAAO,EAAE,KAAK,KAAL,CAAW,WAAX;AAAV;AAAT,OADhC,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AAChB,YAAG,QAAQ,CAAC,IAAZ,EAAiB;AACf,cAAG,KAAI,CAAC,MAAL,KAAc,MAAjB,EAAwB;AACtB,YAAA,KAAI,CAAC,YAAL,GAAoB,OAAO,CAAC,QAAR,CAAiB,iBAArC;AACA,YAAA,KAAI,CAAC,aAAL,GAAqB,OAAO,CAAC,QAAR,CAAiB,gBAAtC;AACF,WAHA,MAGO,IAAI,KAAI,CAAC,MAAL,KAAc,QAAlB,EAA2B;AAChC,YAAA,KAAI,CAAC,YAAL,GAAoB,OAAO,CAAC,QAAR,CAAiB,iBAArC;AACA,YAAA,KAAI,CAAC,aAAL,GAAqB,OAAO,CAAC,QAAR,CAAiB,cAAtC;AACF;;AACA,UAAA,KAAI,CAAC,SAAL,GAAiB,IAAjB;AACF,SATA,MASO;AACL,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,YAAA,IAAI,EAAE,MAAP;AAAe,YAAA,MAAM,EAAE;AAAC,cAAA,MAAM,EAAE,KAAI,CAAC;AAAd;AAAvB,WAAlB;AACF;AACD,OAfL;AAgBD,KAlBM;AAmBP,IAAA,OAnBO,qBAmBE;AACP,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAC,QAAA,IAAI,EAAE,MAAP;AAAe,QAAA,MAAM,EAAE;AAAC,UAAA,MAAM,EAAE,KAAK;AAAd;AAAvB,OAAlB;AACF;AArBO,GAdI;AAqCb,EAAA,gBArCa,4BAqCI,EArCJ,EAqCQ,IArCR,EAqCc,IArCd,EAqCmB;AAC9B,QAAI,KAAK,CAAC,KAAN,CAAY,MAAZ,KAAuB,CAAC,CAAxB,IAA6B,KAAK,CAAC,KAAN,CAAY,QAAZ,KAAyB,EAA1D,EAA8D;AAC5D,MAAA,KAAK,CAAC,GAAN,CAAU,IAAI,CAAC,eAAf,EACK,IADL,CACU,UAAA,QAAO,EAAK;AAChB,YAAI,QAAQ,CAAC,IAAb,EAAmB;AACjB,UAAA,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,QAAQ,CAAC,IAAT,CAAc,gBAA1C;AACA,UAAA,KAAK,CAAC,QAAN,CAAe,aAAf,EAA8B,QAAQ,CAAC,IAAT,CAAc,QAA5C;AACA,UAAA,IAAI;AACN,SAJA,MAIO;AACL,UAAA,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,KAA5B;AACA,UAAA,KAAK,CAAC,QAAN,CAAe,aAAf,EAA8B,IAA9B;AACA,UAAA,IAAI;AACN;AACD,OAXL,EAYK,KAZL,CAYW,YAAM;AACX,QAAA,QAAQ,CAAC,IAAT,GAAgB,QAAQ,CAAC,MAAT,GAAkB,cAAlB,GAAmC,QAAQ,CAAC,QAA5D;AACD,OAdL;AAeF,KAhBA,MAgBO,IAAI;AACb;AAvDa,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <UserHamburgerMenu :show=\"showHamburgerMenu\"\n                       :src=\"require('@/assets/hamburger_icon_dark.png')\"\n                       @toggle-show=\"showHamburgerMenu=$event\"/>\n    <div class=\"home\">\n      <img src=\"../assets/title.png\">\n\n\n      <div class=\"buttons-container\" v-if=\"choice===null\">\n        <button @click=\"choice='join'\">{{strings.homeView.joinGameButton}}</button>\n        <button @click=\"choice='create'\">{{strings.homeView.createGameButton}}</button>\n      </div>\n\n\n      <form @submit.prevent=\"play\" v-if=\"choice!==null\">\n        <span @click=\"choice=null\">&#8617;</span>\n        <input :placeholder=\"strings.homeView.joinGameInputPlaceholder\" v-model=\"input\" required>\n        <button>{{ strings.homeView.play }}</button>\n      </form>\n\n\n    </div>\n\n\n    <div class=\"popup-background\" v-if=\"showPopup\" @click=\"showPopup=false\">\n      <div>\n        <p>{{popupMessage}}</p>\n        <div>\n          <button @click=\"confirm\">{{ confirmButton }}</button>\n          <button @click=\"showPopup=false\">{{ strings.homeView.cancelButton }}</button>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n</template>\n\n<script>\nimport {strings, urls} from \"../constants/constants\";\nimport UserHamburgerMenu from \"../components/UserHamburgerMenu\";\nimport axios from \"axios\";\nimport store from \"../store\";\n\n\nexport default {\n  name: 'Game',\n  components: {UserHamburgerMenu},\n  data() {\n    return {\n      strings: strings,\n      showHamburgerMenu: false,\n      showPopup: false,\n      popupMessage: \"\",\n      input: \"\",\n      choice: null,\n      confirmButton: \"\"\n    }\n  },\n  methods: {\n    play(){\n      axios\n          .get(urls.getGameStatusUrl, {params: {game_id: this.input.toLowerCase()}})\n          .then(response => {\n            if(response.data){\n              if(this.choice===\"join\"){\n                this.popupMessage = strings.homeView.gameDoesNotExists;\n                this.confirmButton = strings.homeView.createGameButton;\n              } else if (this.choice===\"create\"){\n                this.popupMessage = strings.homeView.gameAlreadyExists;\n                this.confirmButton = strings.homeView.joinGameButton;\n              }\n              this.showPopup = true\n            } else {\n              this.$router.push({name: \"Game\", params: {gameId: this.input}})\n            }\n          });\n    },\n    confirm(){\n      this.$router.push({name: \"Game\", params: {gameId: this.input}})\n    }\n  },\n  beforeRouteEnter(to, from, next){\n    if (store.state.logged === -1 || store.state.username === \"\") {\n      axios.get(urls.getLoginInfoUrl)\n          .then(response => {\n            if (response.data) {\n              store.dispatch(\"setLogged\", response.data.google_signed_in);\n              store.dispatch(\"setUsername\", response.data.username);\n              next();\n            } else {\n              store.dispatch(\"setLogged\", false);\n              store.dispatch(\"setUsername\", null);\n              next();\n            }\n          })\n          .catch(() => {\n            location.href = location.origin + \"/error?from=\" + location.pathname;\n          });\n    } else next();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.wrapper{\n  width: 100%;\n  height: 100%;\n\n  .home {\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    height: 100%;\n    align-items: center;\n\n    img{\n      margin-top: 10px;\n      width: 50%;\n    }\n\n\n\n\n    .buttons-container{\n      display: flex;\n      flex-flow: row;\n      flex-wrap: wrap;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n      width: 100%;\n\n      button{\n        margin: 10px;\n      }\n    }\n\n    form {\n      position: relative;\n      display: flex;\n      flex-flow: column;\n      justify-content: space-evenly;\n      align-items: center;\n      height: 70%;\n      width: 50%;\n      @media (max-width: 750px){\n        width: 80%;\n      }\n\n      span{\n        position: absolute;\n        font-size: 300%;\n        top: 10%;\n        left: 10%;\n        color: white;\n        transition: all 0.5s;\n        cursor: pointer;\n\n        &:hover{\n          transform: scale(1.3);\n        }\n      }\n\n      input{\n        background: none;\n        outline: none;\n        border: none;\n        border-bottom: 2px solid white;\n        font-size: 250%;\n        text-align: center;\n        color: white;\n        width: 50%;\n        @media (max-width: 750px){\n          width: 80%;\n        }\n      }\n    }\n\n\n\n  }\n\n  .popup-background{\n\n    div{\n      display: flex;\n      flex-flow: column;\n      color: white;\n      font-size: 150%;\n\n      div{\n        display: flex;\n        flex-flow: row;\n        justify-content: space-evenly;\n        align-items: center;\n\n        button{\n          font-size: 100%;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}