{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/eslint-loader/index.js??ref--13-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js","mtime":1616141901112},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1610909371551},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/eslint-loader/index.js","mtime":1610909415268}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gInBoYXNlciI7CmltcG9ydCBpbyBmcm9tICJzb2NrZXQuaW8tY2xpZW50IjsKCnZhciBNYWluU2NlbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QaGFzZXIkU2NlbmUpIHsKICBfaW5oZXJpdHMoTWFpblNjZW5lLCBfUGhhc2VyJFNjZW5lKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYWluU2NlbmUpOwoKICBmdW5jdGlvbiBNYWluU2NlbmUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW5TY2VuZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7CiAgICAgIGtleTogIk1haW4iCiAgICB9KTsKICAgIF90aGlzLnNvY2tldCA9IGlvKCJodHRwczovL3BhcGVyby5tZSIsIHsKICAgICAgcGF0aDogIi9zZXJ2ZXIvYXN0cm8vc29ja2V0LmlvIiwKICAgICAgYXV0b0Nvbm5lY3Q6IHRydWUKICAgIH0pOwoKICAgIF90aGlzLnNvY2tldC5vbigiY29ubmVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImNvbm5lY3RlZCIpOwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKE1haW5TY2VuZSwgW3sKICAgIGtleTogInByZWxvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZWxvYWQoKSB7CiAgICAgIHRoaXMubG9hZC5pbWFnZSgic2hpcCIsICJodHRwczovL3BhcGVyby5tZS9hc3Ryby9hc3Rlcm9pZHNfc2hpcC5wbmciKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNoaXAgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQwMCwgMzAwLCAic2hpcCIpOwogICAgICB0aGlzLnNoaXAuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpOwogICAgICB0aGlzLmtleUEgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuQSk7CiAgICAgIHRoaXMuc29ja2V0Lm9uKCJtb3ZlIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczIuc2hpcC5yb3RhdGlvbiA9IGRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICBpZiAodGhpcy5rZXlBLmlzRG93bikgewogICAgICAgIHRoaXMuc2hpcC5yb3RhdGlvbiArPSBNYXRoLlBJIC8gOTA7CiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgibW92ZSIsIHRoaXMuc2hpcC5yb3RhdGlvbik7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBNYWluU2NlbmU7Cn0oUGhhc2VyLlNjZW5lKTsKCmV4cG9ydCB7IE1haW5TY2VuZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js"],"names":["Phaser","io","MainScene","key","socket","path","autoConnect","on","console","log","load","image","ship","physics","add","setCollideWorldBounds","keyA","input","keyboard","addKey","Input","Keyboard","KeyCodes","A","data","rotation","isDown","Math","PI","emit","Scene"],"mappings":";;;;AAAA,OAAO,KAAKA,MAAZ,MAAwB,QAAxB;AACA,OAAOC,EAAP,MAAe,kBAAf;;IAEqBC,S;;;;;AAEjB,uBAAc;AAAA;;AAAA;;AACV,8BAAM;AAACC,MAAAA,GAAG,EAAE;AAAN,KAAN;AACA,UAAKC,MAAL,GAAcH,EAAE,CAAC,mBAAD,EAAsB;AAClCI,MAAAA,IAAI,EAAE,yBAD4B;AAElCC,MAAAA,WAAW,EAAE;AAFqB,KAAtB,CAAhB;;AAIA,UAAKF,MAAL,CAAYG,EAAZ,CAAe,SAAf,EAA0B,YAAI;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,KAFD;;AANU;AASb;;;;WAED,mBAAS;AACL,WAAKC,IAAL,CAAUC,KAAV,CAAgB,MAAhB,EAAwB,4CAAxB;AACH;;;WAED,kBAAQ;AAAA;;AACJ,WAAKC,IAAL,GAAY,KAAKC,OAAL,CAAaC,GAAb,CAAiBH,KAAjB,CAAuB,GAAvB,EAA4B,GAA5B,EAAiC,MAAjC,CAAZ;AACA,WAAKC,IAAL,CAAUG,qBAAV,CAAgC,IAAhC;AACA,WAAKC,IAAL,GAAY,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BnB,MAAM,CAACoB,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BC,CAA1D,CAAZ;AACA,WAAKnB,MAAL,CAAYG,EAAZ,CAAe,MAAf,EAAuB,UAACiB,IAAD,EAAQ;AAC5B,QAAA,MAAI,CAACZ,IAAL,CAAUa,QAAV,GAAqBD,IAArB;AACF,OAFD;AAGH;;;WAED,kBAAQ;AACJ,UAAG,KAAKR,IAAL,CAAUU,MAAb,EAAqB;AACjB,aAAKd,IAAL,CAAUa,QAAV,IAAsBE,IAAI,CAACC,EAAL,GAAQ,EAA9B;AACA,aAAKxB,MAAL,CAAYyB,IAAZ,CAAiB,MAAjB,EAAyB,KAAKjB,IAAL,CAAUa,QAAnC;AACH;AACJ;;;;EA/BkCzB,MAAM,CAAC8B,K;;SAAzB5B,S","sourcesContent":["import * as Phaser from \"phaser\";\nimport io from \"socket.io-client\";\n\nexport default class MainScene extends Phaser.Scene {\n\n    constructor() {\n        super({key: \"Main\"});\n        this.socket = io(\"https://papero.me\", {\n            path: \"/server/astro/socket.io\",\n            autoConnect: true\n        });\n        this.socket.on(\"connect\", ()=>{\n            console.log(\"connected\");\n        });\n    }\n\n    preload(){\n        this.load.image(\"ship\", \"https://papero.me/astro/asteroids_ship.png\");\n    }\n\n    create(){\n        this.ship = this.physics.add.image(400, 300, \"ship\");\n        this.ship.setCollideWorldBounds(true);\n        this.keyA = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\n        this.socket.on(\"move\", (data)=>{\n           this.ship.rotation = data;\n        });\n    }\n\n    update(){\n        if(this.keyA.isDown) {\n            this.ship.rotation += Math.PI/90;\n            this.socket.emit(\"move\", this.ship.rotation);\n        }\n    }\n}"]}]}