{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue?vue&type=template&id=4bed2e1a&scoped=true","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue","mtime":1616862459139},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616506645671},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1616506657299},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\babel-loader\\lib\\index.js","mtime":1616506645397},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616506657642},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616506645671},{"path":"C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616506657635}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgeyB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgX2ltcG9ydHNfMCBmcm9tICcuLi8uLi9hc3NldHMvc3BhY2Uta2V5LWljb24ucG5nJzsKaW1wb3J0IF9pbXBvcnRzXzEgZnJvbSAnLi4vLi4vYXNzZXRzL2VudGVyLWtleS1pY29uLnBuZyc7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi00YmVkMmUxYSIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNGJlZDJlMWEiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibG9iYnkiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBpZDogInBsYXllcnMtd3JhcHBlciIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18wCn0pLCAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18xCn0pXSldLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImluZm9zIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0dhbWVTZXR0aW5ncyA9IF9yZXNvbHZlQ29tcG9uZW50KCJHYW1lU2V0dGluZ3MiKTsKCiAgdmFyIF9jb21wb25lbnRfQ2hhbmdlQ29sb3IgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ2hhbmdlQ29sb3IiKTsKCiAgdmFyIF9jb21wb25lbnRfQ29weUluZm9ybWF0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoIkNvcHlJbmZvcm1hdGlvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy5nYW1lSWQpLCAxKSwgJGRhdGEuZ2FtZS5jdXJyZW50UGxheWVyICE9PSBudWxsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfR2FtZVNldHRpbmdzLCB7CiAgICBrZXk6IDAsCiAgICBnYW1lOiAkZGF0YS5nYW1lLAogICAgc29ja2V0OiAkcHJvcHMuc29ja2V0CiAgfSwgbnVsbCwgOCwgWyJnYW1lIiwgInNvY2tldCJdKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMSwKICAgIGNsYXNzOiAiam9pbi1idXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5qb2luR2FtZSAmJiAkb3B0aW9ucy5qb2luR2FtZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgX3RvRGlzcGxheVN0cmluZygkZGF0YS5zdHJpbmdzLmdhbWVWaWV3LmxvYmJ5LmpvaW5Mb2JieSksIDEpKSwgX2hvaXN0ZWRfMiwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hhbmdlQ29sb3IsIHsKICAgIHNvY2tldDogJHByb3BzLnNvY2tldCwKICAgIHBsYXllcnM6ICRkYXRhLmdhbWUucGxheWVycwogIH0sIG51bGwsIDgsIFsic29ja2V0IiwgInBsYXllcnMiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0NvcHlJbmZvcm1hdGlvbiwgewogICAgbXNnOiAkZGF0YS5zdHJpbmdzLmdhbWVWaWV3LmxvYmJ5LnNoYXJlVGhlTGluaywKICAgIGluZm86ICRvcHRpb25zLmxpbmsKICB9LCBudWxsLCA4LCBbIm1zZyIsICJpbmZvIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Db3B5SW5mb3JtYXRpb24sIHsKICAgIG1zZzogJGRhdGEuc3RyaW5ncy5nYW1lVmlldy5sb2JieS5jb3B5VGFnLAogICAgaW5mbzogJG9wdGlvbnMuZ2FtZUlkCiAgfSwgbnVsbCwgOCwgWyJtc2ciLCAiaW5mbyJdKV0pXSk7Cn0pOw=="},{"version":3,"sources":["C:\\Users\\matte\\Desktop\\papero\\cosmos.papero.me\\src\\components\\gameComponents\\Lobby.vue"],"names":[],"mappings":";;OAYa,U,MAAqC,iC;OACrC,U,MAAqC,iC;;;;;;;AAZ3C,EAAA,KAAK,EAAC;;;8BAST,YAAA,CAKM,KALN,EAKM;AALD,EAAA,EAAE,EAAC;AAKF,CALN,EAAyB,C,aACvB,YAAA,CAGM,KAHN,EAGM,IAHN,EAGM,C,aAFJ,YAAA,CAA4C,KAA5C,EAA4C;AAAvC,EAAA,GAAqC,EAArC;AAAuC,CAA5C,CAEI,E,aADJ,YAAA,CAA4C,KAA5C,EAA4C;AAAvC,EAAA,GAAqC,EAArC;AAAuC,CAA5C,CACI,CAHN,CADuB,CAAzB,E,EAAA,C;;;AAOK,EAAA,KAAK,EAAC;;;;;;;;;;;;uBAhBb,YAAA,CAqBM,KArBN,EAAA,UAAA,EAqBM,CApBJ,YAAA,CAAmB,IAAnB,EAAmB,IAAnB,EAAmB,gBAAA,CAAb,QAAA,CAAA,MAAa,CAAnB,EAAY,CAAZ,CAoBI,EAlBiB,KAAA,CAAA,IAAA,CAAK,aAAL,KAAkB,I,kBAAvC,YAAA,CAEiC,uBAFjC,EAEiC;UAAA;AADjB,IAAA,IAAI,EAAE,KAAA,CAAA,IACW;AAAjB,IAAA,MAAM,EAAE,MAAA,CAAA;AAAS,GAFjC,E,IAAA,E,CAAA,E,kBAAA,C,mBAIA,YAAA,CAAkG,QAAlG,EAAkG;UAAA;AAA1F,IAAA,KAAK,EAAC,aAAoF;AAA9D,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAyD,GAAlG,E,iBAAuD,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,S,CAA9E,EAAuF,CAAvF,C,CAcI,EAZJ,UAYI,EALJ,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAuD,sBAAvD,EAAuD;AAAzC,IAAA,MAAM,EAAE,MAAA,CAAA,MAAiC;AAAxB,IAAA,OAAO,EAAE,KAAA,CAAA,IAAA,CAAK;AAAU,GAAvD,E,IAAA,E,CAAA,E,qBAAA,CAGI,EAFJ,YAAA,CAA0E,0BAA1E,EAA0E;AAAxD,IAAA,GAAG,EAAE,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,YAA4B;AAAb,IAAA,IAAI,EAAE,QAAA,CAAA;AAAO,GAA1E,E,IAAA,E,CAAA,E,eAAA,CAEI,EADJ,YAAA,CAAuE,0BAAvE,EAAuE;AAArD,IAAA,GAAG,EAAE,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,OAAyB;AAAf,IAAA,IAAI,EAAE,QAAA,CAAA;AAAS,GAAvE,E,IAAA,E,CAAA,E,eAAA,CACI,CAJN,CAKI,CArBN,C","sourcesContent":["<template>\r\n  <div class=\"lobby\">\r\n    <h1>{{gameId}}</h1>\r\n\r\n    <GameSettings  v-if=\"game.currentPlayer!==null\"\r\n                   :game=\"game\"\r\n                   :socket=\"socket\"/>\r\n\r\n    <button class=\"join-button\" v-else @click=\"joinGame\">{{strings.gameView.lobby.joinLobby}}</button>\r\n\r\n    <div id=\"players-wrapper\">\r\n      <div>\r\n        <img src=\"../../assets/space-key-icon.png\"/>\r\n        <img src=\"../../assets/enter-key-icon.png\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"infos\">\r\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\r\n      <CopyInformation :msg=\"strings.gameView.lobby.shareTheLink\" :info=\"link\"/>\r\n      <CopyInformation :msg=\"strings.gameView.lobby.copyTag\" :info=\"gameId\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Phaser from \"phaser\";\r\nimport {config, strings} from \"../../constants/constants\";\r\nimport LobbyScene from \"../../phaser/LobbyScene\";\r\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\r\nimport CopyInformation from \"./lobbyComponents/CopyInformation\";\r\nimport websocketEvents from \"../../constants/websocketEvents\";\r\nimport GameSettings from \"./lobbyComponents/GameSettings\";\r\nexport default {\r\n  name: \"Lobby\",\r\n  components: {GameSettings, CopyInformation, ChangeColor},\r\n  props: {\r\n    socket: Object\r\n  },\r\n  data(){\r\n    return {\r\n      strings,\r\n      websocketEvents,\r\n      game: {\r\n        settings: {\r\n          totalTurns: 5,\r\n          velocity: 2,\r\n          angularVelocity: 2,\r\n          reloadingVelocity: 2,\r\n          bulletVelocity: 2\r\n        }\r\n      },\r\n      phaserScene: null\r\n    }\r\n  },\r\n  mounted() {\r\n    let parent = document.getElementById(\"players-wrapper\");\r\n    this.phaserScene = new Phaser.Game(\r\n        config(\r\n            new LobbyScene(this.socket),\r\n            parent,\r\n            Math.min(parent.offsetWidth, parent.offsetHeight),\r\n            Math.min(parent.offsetWidth, parent.offsetHeight)\r\n        ));\r\n    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\r\n      console.log(game);\r\n      this.game = {...game};\r\n    });\r\n  },\r\n  computed: {\r\n    gameId: function () {\r\n      return this.$route.params.gameId;\r\n    },\r\n    isAdmin: function (){\r\n      return this.game.admin === this.game.currentPlayer;\r\n    },\r\n    link: function(){\r\n      return window.location.href;\r\n    }\r\n  },\r\n  methods: {\r\n    joinGame(){\r\n      this.socket.emit(websocketEvents.JOIN_GAME);\r\n    }\r\n  },\r\n  unmounted() {\r\n    this.phaserScene.destroy(true);\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.lobby{\r\n  width: 100%;\r\n  height: 100%;\r\n  display: grid;\r\n  justify-items: center;\r\n  @media (min-width: 751px) {\r\n    grid-template-rows: 20% 80%;\r\n    grid-template-columns: 30% 40% 30%;\r\n    grid-template-areas: \"title title title\" \"settings phaser infos\";\r\n  }\r\n  @media (max-width: 751px) {\r\n    grid-template-rows: auto 300px auto auto;\r\n    grid-template-columns: 1fr;\r\n    grid-template-areas: \"title\" \"phaser\" \"infos\" \"settings\";\r\n    overflow: scroll;\r\n  }\r\n\r\n  h1{\r\n    grid-area: title;\r\n  }\r\n\r\n  .join-button{\r\n    grid-area: settings;\r\n    height: fit-content;\r\n    align-self: center;\r\n  }\r\n\r\n  #players-wrapper{\r\n    width: 80%;\r\n    height: 80%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    grid-area: phaser;\r\n    margin-top: 20px;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    div{\r\n      display: flex;\r\n      margin: 10px;\r\n\r\n      img{\r\n        margin: 10px;\r\n        height: 50px;\r\n        width: auto;\r\n      }\r\n    }\r\n  }\r\n\r\n  .infos{\r\n    grid-area: infos;\r\n    width: 100%;\r\n    height: 80%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    justify-content: space-evenly;\r\n  }\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}