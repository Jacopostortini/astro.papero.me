{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue?vue&type=template&id=089e701f&scoped=true","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue","mtime":1616262606823},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1610909425518},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1610909425518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTA4OWU3MDFmIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0wODllNzAxZiIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJsb2JieSIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAic2V0dGluZ3MiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiYWRtaW4tcmVzZXJ2ZWQiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGtleTogMCwKICBjbGFzczogIm5vdC1hZG1pbiIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAiam9pbi1idXR0b24iCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBpZDogInBsYXllcnMtd3JhcHBlciIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0NoYW5nZUNvbG9yID0gX3Jlc29sdmVDb21wb25lbnQoIkNoYW5nZUNvbG9yIik7CgogIHZhciBfY29tcG9uZW50X1NldFRvdGFsVHVybnMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2V0VG90YWxUdXJucyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy5nYW1lSWQpLCAxCiAgLyogVEVYVCAqLwogICksICRkYXRhLmdhbWUuY3VycmVudFBsYXllciAhPT0gbnVsbCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0NoYW5nZUNvbG9yLCB7CiAgICBzb2NrZXQ6ICRwcm9wcy5zb2NrZXQsCiAgICBwbGF5ZXJzOiAkZGF0YS5nYW1lLnBsYXllcnMKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsic29ja2V0IiwgInBsYXllcnMiXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuc3RyaW5ncy5nYW1lVmlldy5sb2JieS5hZG1pblNldHRpbmdzKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZXRUb3RhbFR1cm5zLCB7CiAgICBnYW1lOiAkZGF0YS5nYW1lLAogICAgc29ja2V0OiAkcHJvcHMuc29ja2V0CiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImdhbWUiLCAic29ja2V0Il0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIGRpc2FibGVkOiAhJG9wdGlvbnMuaXNBZG1pbgogIH0sIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuc3RyaW5ncy5nYW1lVmlldy5sb2JieS5zdGFydEdhbWUpLCA5CiAgLyogVEVYVCwgUFJPUFMgKi8KICAsIFsiZGlzYWJsZWQiXSksICEkb3B0aW9ucy5pc0FkbWluID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF80KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgX2hvaXN0ZWRfNSwgX3RvRGlzcGxheVN0cmluZygkZGF0YS5zdHJpbmdzLmdhbWVWaWV3LmxvYmJ5LmpvaW5Mb2JieSksIDEKICAvKiBURVhUICovCiAgKSksIF9ob2lzdGVkXzZdKTsKfSk7"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;;AAEJ,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;;AAKJ,EAAA,KAAK,EAAC;;;;AAGP,EAAA,KAAK,EAAC;;;8BACd,YAAA,CAA2B,KAA3B,EAA2B;AAAtB,EAAA,EAAE,EAAC;AAAmB,CAA3B,EAAyB,IAAzB,EAAyB,CAAA;AAAA;AAAzB,C;;;;;;;;;uBAbF,YAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbJ,YAAA,CAAmB,IAAnB,EAAmB,IAAnB,EAAmB,gBAAA,CAAb,QAAA,CAAA,MAAa,CAAnB,EAAY;AAAA;AAAZ,GAaI,EAZwB,KAAA,CAAA,IAAA,CAAK,aAAL,KAAkB,I,kBAA9C,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARJ,YAAA,CAAuD,sBAAvD,EAAuD;AAAzC,IAAA,MAAM,EAAE,MAAA,CAAA,MAAiC;AAAxB,IAAA,OAAO,EAAE,KAAA,CAAA,IAAA,CAAK;AAAU,GAAvD,E,IAAA,E;;AAAA,I,qBAAA,CAQI,EAPJ,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,YAAA,CAAqD,MAArD,EAAqD,IAArD,EAAqD,gBAAA,CAA7C,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,aAAsB,CAArD,EAA4C;AAAA;AAA5C,GAKI,EAJJ,YAAA,CACiC,wBADjC,EACiC;AADjB,IAAA,IAAI,EAAE,KAAA,CAAA,IACW;AAAjB,IAAA,MAAM,EAAE,MAAA,CAAA;AAAS,GADjC,E,IAAA,E;;AAAA,I,kBAAA,CAII,EAFJ,YAAA,CAA0E,QAA1E,EAA0E;AAAjE,IAAA,QAAQ,EAAA,CAAG,QAAA,CAAA;AAAsD,GAA1E,E,iBAA+B,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,S,CAAtD,EAA+D;AAAA;AAA/D,IAA+D,CAAA,UAAA,CAA/D,CAEI,E,CAD0B,QAAA,CAAA,O,kBAA9B,YAAA,CAAwC,KAAxC,EAAA,UAAA,C,qCACI,CANN,CAOI,CATN,C,mBAUA,YAAA,CAAgF,QAAhF,EAAA,UAAA,EAAgF,gBAAA,CAA3C,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,SAAoB,CAAhF,EAAqE;AAAA;AAArE,G,CAEI,EADJ,UACI,CAdN,C","sourcesContent":["<template>\n  <div class=\"lobby\">\n    <h1>{{gameId}}</h1>\n    <div class=\"settings\" v-if=\"game.currentPlayer!==null\">\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\n      <div class=\"admin-reserved\">\n        <span>{{strings.gameView.lobby.adminSettings}}</span>\n        <SetTotalTurns :game=\"game\"\n                       :socket=\"socket\"/>\n        <button :disabled=\"!isAdmin\">{{strings.gameView.lobby.startGame}}</button>\n        <div class=\"not-admin\" v-if=\"!isAdmin\"/>\n      </div>\n    </div>\n    <button class=\"join-button\" v-else>{{strings.gameView.lobby.joinLobby}}</button>\n    <div id=\"players-wrapper\"/>\n  </div>\n</template>\n\n<script>\nimport * as Phaser from \"phaser\";\nimport {config, strings} from \"../../constants/constants\";\nimport LobbyScene from \"../../scenes/LobbyScene\";\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\nimport SetTotalTurns from \"./lobbyComponents/SetTotalTurns\";\n//import websocketEvents from \"../../constants/websocketEvents\";\nexport default {\n  name: \"Lobby\",\n  components: {SetTotalTurns, ChangeColor},\n  props: {\n    socket: Object\n  },\n  data(){\n    return{\n      strings,\n      game: {\n        players: [0,1],\n        admin: 0,\n        currentPlayer: 1,\n        totalTurns: 5\n      }\n    }\n  },\n  mounted() {\n    let parent = document.getElementById(\"players-wrapper\");\n    new Phaser.Game(\n        config(\n            new LobbyScene(this.socket, this.game.players, this.game.currentPlayer),\n            parent,\n            parent.offsetWidth,\n            parent.offsetHeight\n        ));\n\n/*    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\n      this.game = game;\n    });*/\n  },\n  computed: {\n    gameId: function () {\n      return this.$route.params.gameId;\n    },\n    isAdmin: function (){\n      return this.game.admin === this.game.currentPlayer;\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.lobby{\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-rows: 20% 30% 40%;\n  grid-template-columns: 30% 40% 30%;\n  grid-template-areas: \"title title title\" \"settings phaser infos\" \"settings phaser infos\";\n  justify-items: center;\n\n  h1{\n    grid-area: title;\n  }\n\n  .settings{\n    grid-area: settings;\n    display: flex;\n    flex-flow: column;\n\n    .admin-reserved{\n      position: relative;\n      margin-top: 20%;\n      border: 1px solid white;\n      padding: 2% 2% 5% 2%;\n\n      span{\n        position: absolute;\n        top: -40px;\n        left: 0;\n        color: white;\n        font-size: 200%;\n      }\n\n      .not-admin{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: rgba(0,0,0,0.4);\n      }\n    }\n  }\n\n  .join-button{\n    grid-area: settings;\n    height: fit-content;\n    align-self: center;\n  }\n\n  #players-wrapper{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: row;\n    justify-content: center;\n    align-items: center;\n    grid-area: phaser;\n  }\n}\n\n</style>"],"sourceRoot":""}]}