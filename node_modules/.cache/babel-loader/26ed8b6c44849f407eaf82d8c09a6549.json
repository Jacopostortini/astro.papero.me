{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue?vue&type=template&id=1d49e748&scoped=true","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue","mtime":1616335401034},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1610909371551},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1610909425518},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1610909425518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgeyB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMWQ0OWU3NDgiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTFkNDllNzQ4Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImxvYmJ5Igp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgaWQ6ICJwbGF5ZXJzLXdyYXBwZXIiCn0sIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiaW5mb3MiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfR2FtZVNldHRpbmdzID0gX3Jlc29sdmVDb21wb25lbnQoIkdhbWVTZXR0aW5ncyIpOwoKICB2YXIgX2NvbXBvbmVudF9DaGFuZ2VDb2xvciA9IF9yZXNvbHZlQ29tcG9uZW50KCJDaGFuZ2VDb2xvciIpOwoKICB2YXIgX2NvbXBvbmVudF9Db3B5SW5mb3JtYXRpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ29weUluZm9ybWF0aW9uIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiaDEiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLmdhbWVJZCksIDEpLCAkZGF0YS5nYW1lLmN1cnJlbnRQbGF5ZXIgIT09IG51bGwgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9HYW1lU2V0dGluZ3MsIHsKICAgIGtleTogMCwKICAgIGdhbWU6ICRkYXRhLmdhbWUsCiAgICBzb2NrZXQ6ICRwcm9wcy5zb2NrZXQKICB9LCBudWxsLCA4LCBbImdhbWUiLCAic29ja2V0Il0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAxLAogICAgY2xhc3M6ICJqb2luLWJ1dHRvbiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmpvaW5HYW1lICYmICRvcHRpb25zLmpvaW5HYW1lLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnN0cmluZ3MuZ2FtZVZpZXcubG9iYnkuam9pbkxvYmJ5KSwgMSkpLCBfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9DaGFuZ2VDb2xvciwgewogICAgc29ja2V0OiAkcHJvcHMuc29ja2V0LAogICAgcGxheWVyczogJGRhdGEuZ2FtZS5wbGF5ZXJzCiAgfSwgbnVsbCwgOCwgWyJzb2NrZXQiLCAicGxheWVycyJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ29weUluZm9ybWF0aW9uLCB7CiAgICBtc2c6ICRkYXRhLnN0cmluZ3MuZ2FtZVZpZXcubG9iYnkuc2hhcmVUaGVMaW5rLAogICAgaW5mbzogJG9wdGlvbnMubGluawogIH0sIG51bGwsIDgsIFsibXNnIiwgImluZm8iXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0NvcHlJbmZvcm1hdGlvbiwgewogICAgbXNnOiAkZGF0YS5zdHJpbmdzLmdhbWVWaWV3LmxvYmJ5LmNvcHlUYWcsCiAgICBpbmZvOiAkb3B0aW9ucy5nYW1lSWQKICB9LCBudWxsLCA4LCBbIm1zZyIsICJpbmZvIl0pXSldKTsKfSk7"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue"],"names":[],"mappings":";;;;;;;;AACO,EAAA,KAAK,EAAC;;;8BAST,YAAA,CAA2B,KAA3B,EAA2B;AAAtB,EAAA,EAAE,EAAC;AAAmB,CAA3B,EAAyB,IAAzB,EAAyB,CAAA,CAAzB,C;;;AAEK,EAAA,KAAK,EAAC;;;;;;;;;;;;uBAXb,YAAA,CAgBM,KAhBN,EAAA,UAAA,EAgBM,CAfJ,YAAA,CAAmB,IAAnB,EAAmB,IAAnB,EAAmB,gBAAA,CAAb,QAAA,CAAA,MAAa,CAAnB,EAAY,CAAZ,CAeI,EAbiB,KAAA,CAAA,IAAA,CAAK,aAAL,KAAkB,I,kBAAvC,YAAA,CAEiC,uBAFjC,EAEiC;UAAA;AADjB,IAAA,IAAI,EAAE,KAAA,CAAA,IACW;AAAjB,IAAA,MAAM,EAAE,MAAA,CAAA;AAAS,GAFjC,E,IAAA,E,CAAA,E,kBAAA,C,mBAIA,YAAA,CAAkG,QAAlG,EAAkG;UAAA;AAA1F,IAAA,KAAK,EAAC,aAAoF;AAA9D,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAyD,GAAlG,E,iBAAuD,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,S,CAA9E,EAAuF,CAAvF,C,CASI,EAPJ,UAOI,EALJ,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAuD,sBAAvD,EAAuD;AAAzC,IAAA,MAAM,EAAE,MAAA,CAAA,MAAiC;AAAxB,IAAA,OAAO,EAAE,KAAA,CAAA,IAAA,CAAK;AAAU,GAAvD,E,IAAA,E,CAAA,E,qBAAA,CAGI,EAFJ,YAAA,CAA0E,0BAA1E,EAA0E;AAAxD,IAAA,GAAG,EAAE,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,YAA4B;AAAb,IAAA,IAAI,EAAE,QAAA,CAAA;AAAO,GAA1E,E,IAAA,E,CAAA,E,eAAA,CAEI,EADJ,YAAA,CAAuE,0BAAvE,EAAuE;AAArD,IAAA,GAAG,EAAE,KAAA,CAAA,OAAA,CAAQ,QAAR,CAAiB,KAAjB,CAAuB,OAAyB;AAAf,IAAA,IAAI,EAAE,QAAA,CAAA;AAAS,GAAvE,E,IAAA,E,CAAA,E,eAAA,CACI,CAJN,CAKI,CAhBN,C","sourcesContent":["<template>\n  <div class=\"lobby\">\n    <h1>{{gameId}}</h1>\n\n    <GameSettings  v-if=\"game.currentPlayer!==null\"\n                   :game=\"game\"\n                   :socket=\"socket\"/>\n\n    <button class=\"join-button\" v-else @click=\"joinGame\">{{strings.gameView.lobby.joinLobby}}</button>\n\n    <div id=\"players-wrapper\"/>\n\n    <div class=\"infos\">\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\n      <CopyInformation :msg=\"strings.gameView.lobby.shareTheLink\" :info=\"link\"/>\n      <CopyInformation :msg=\"strings.gameView.lobby.copyTag\" :info=\"gameId\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as Phaser from \"phaser\";\nimport {config, strings} from \"../../constants/constants\";\nimport LobbyScene from \"../../scenes/LobbyScene\";\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\nimport CopyInformation from \"./lobbyComponents/CopyInformation\";\nimport websocketEvents from \"../../constants/websocketEvents\";\nimport GameSettings from \"./lobbyComponents/GameSettings\";\nexport default {\n  name: \"Lobby\",\n  components: {GameSettings, CopyInformation, ChangeColor},\n  props: {\n    socket: Object\n  },\n  data(){\n    return {\n      strings,\n      websocketEvents,\n      game: {\n        players: [\n          {\n            localId: 0,\n            color: 0\n          },\n          {\n            localId: 1,\n            color: 1\n          }\n        ],\n        admin: 0,\n        currentPlayer: 1,\n        settings: {\n          totalTurns: 5,\n          velocity: 2,\n          angularVelocity: 2,\n          reloadingVelocity: 2\n        }\n      }\n      /*game: {\n        settings: {}\n      }*/\n    }\n  },\n  mounted() {\n    let parent = document.getElementById(\"players-wrapper\");\n    new Phaser.Game(\n        config(\n            new LobbyScene(this.game.players, this.game.currentPlayer),\n            parent,\n            Math.min(parent.offsetWidth, parent.offsetHeight),\n            Math.min(parent.offsetWidth, parent.offsetHeight)\n        ));\n    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\n      console.log(game);\n      this.game = game;\n      this.emitter.emit(websocketEvents.LOBBY_MODIFIED, game);\n    });\n  },\n  computed: {\n    gameId: function () {\n      return this.$route.params.gameId;\n    },\n    isAdmin: function (){\n      return this.game.admin === this.game.currentPlayer;\n    },\n    link: function(){\n      return window.location.href;\n    }\n  },\n  methods: {\n    joinGame(){\n      this.socket.emit(websocketEvents.JOIN_GAME);\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.lobby{\n  width: 100%;\n  height: 100%;\n  display: grid;\n  justify-items: center;\n  @media (min-width: 751px) {\n    grid-template-rows: 20% 80%;\n    grid-template-columns: 30% 40% 30%;\n    grid-template-areas: \"title title title\" \"settings phaser infos\";\n  }\n  @media (max-width: 751px) {\n    grid-template-rows: auto 300px auto auto;\n    grid-template-columns: 1fr;\n    grid-template-areas: \"title\" \"phaser\" \"infos\" \"settings\";\n    overflow: scroll;\n  }\n\n  h1{\n    grid-area: title;\n  }\n\n  .join-button{\n    grid-area: settings;\n    height: fit-content;\n    align-self: center;\n  }\n\n  #players-wrapper{\n    width: 80%;\n    height: 80%;\n    display: flex;\n    flex-flow: row;\n    grid-area: phaser;\n    margin-top: 20px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .infos{\n    grid-area: infos;\n    width: 100%;\n    height: 80%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-evenly;\n  }\n}\n\n</style>"],"sourceRoot":""}]}