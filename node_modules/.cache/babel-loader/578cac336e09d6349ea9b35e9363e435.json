{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/eslint-loader/index.js??ref--13-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js","mtime":1616092692798},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/eslint-loader/index.js","mtime":1610909415268}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay9hc3Ryby5wYXBlcm8ubWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gInBoYXNlciI7CmltcG9ydCBpbyBmcm9tICJzb2NrZXQuaW8tY2xpZW50IjsKCnZhciBNYWluU2NlbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QaGFzZXIkU2NlbmUpIHsKICBfaW5oZXJpdHMoTWFpblNjZW5lLCBfUGhhc2VyJFNjZW5lKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYWluU2NlbmUpOwoKICBmdW5jdGlvbiBNYWluU2NlbmUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW5TY2VuZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7CiAgICAgIGtleTogIk1haW4iCiAgICB9KTsKICAgIF90aGlzLnNvY2tldCA9IGlvKCJodHRwczovL3BhcGVyby5tZS9zZXJ2ZXIvYXN0cm8iLCB7CiAgICAgIGF1dG9Db25uZWN0OiBmYWxzZQogICAgfSk7CgogICAgX3RoaXMuc29ja2V0Lm9uKCJjb25uZWN0IiwgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygiY29ubmVjdGVkIik7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTWFpblNjZW5lLCBbewogICAga2V5OiAicHJlbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkLmltYWdlKCJzaGlwIiwgIi4vYXN0ZXJvaWRzX3NoaXAucG5nIik7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zaGlwID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0MDAsIDMwMCwgInNoaXAiKTsKICAgICAgdGhpcy5zaGlwLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTsKICAgICAgdGhpcy5rZXlBID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEpOwogICAgICB0aGlzLnNvY2tldC5vbigibW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuc2hpcC5yb3RhdGlvbiArPSBNYXRoLlBJIC8gOTA7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICBpZiAodGhpcy5rZXlBLmlzRG93bikgewogICAgICAgIHRoaXMuc2hpcC5yb3RhdGlvbiArPSBNYXRoLlBJIC8gOTA7CiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgibW92ZSIpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTWFpblNjZW5lOwp9KFBoYXNlci5TY2VuZSk7CgpleHBvcnQgeyBNYWluU2NlbmUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/MainScene.js"],"names":["Phaser","io","MainScene","key","socket","autoConnect","on","console","log","load","image","ship","physics","add","setCollideWorldBounds","keyA","input","keyboard","addKey","Input","Keyboard","KeyCodes","A","rotation","Math","PI","isDown","emit","Scene"],"mappings":";;;;AAAA,OAAO,KAAKA,MAAZ,MAAwB,QAAxB;AACA,OAAOC,EAAP,MAAe,kBAAf;;IAEqBC,S;;;;;AAEjB,uBAAc;AAAA;;AAAA;;AACV,8BAAM;AAACC,MAAAA,GAAG,EAAE;AAAN,KAAN;AACA,UAAKC,MAAL,GAAcH,EAAE,CAAC,gCAAD,EAAmC;AAACI,MAAAA,WAAW,EAAE;AAAd,KAAnC,CAAhB;;AACA,UAAKD,MAAL,CAAYE,EAAZ,CAAe,SAAf,EAA0B,YAAI;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,KAFD;;AAHU;AAMb;;;;WAED,mBAAS;AACL,WAAKC,IAAL,CAAUC,KAAV,CAAgB,MAAhB,EAAwB,sBAAxB;AACH;;;WAED,kBAAQ;AAAA;;AACJ,WAAKC,IAAL,GAAY,KAAKC,OAAL,CAAaC,GAAb,CAAiBH,KAAjB,CAAuB,GAAvB,EAA4B,GAA5B,EAAiC,MAAjC,CAAZ;AACA,WAAKC,IAAL,CAAUG,qBAAV,CAAgC,IAAhC;AACA,WAAKC,IAAL,GAAY,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BlB,MAAM,CAACmB,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BC,CAA1D,CAAZ;AACA,WAAKlB,MAAL,CAAYE,EAAZ,CAAe,MAAf,EAAuB,YAAI;AACxB,QAAA,MAAI,CAACK,IAAL,CAAUY,QAAV,IAAsBC,IAAI,CAACC,EAAL,GAAQ,EAA9B;AACF,OAFD;AAGH;;;WAED,kBAAQ;AACJ,UAAG,KAAKV,IAAL,CAAUW,MAAb,EAAqB;AACjB,aAAKf,IAAL,CAAUY,QAAV,IAAsBC,IAAI,CAACC,EAAL,GAAQ,EAA9B;AACA,aAAKrB,MAAL,CAAYuB,IAAZ,CAAiB,MAAjB;AACH;AACJ;;;;EA5BkC3B,MAAM,CAAC4B,K;;SAAzB1B,S","sourcesContent":["import * as Phaser from \"phaser\";\nimport io from \"socket.io-client\";\n\nexport default class MainScene extends Phaser.Scene {\n\n    constructor() {\n        super({key: \"Main\"});\n        this.socket = io(\"https://papero.me/server/astro\", {autoConnect: false});\n        this.socket.on(\"connect\", ()=>{\n            console.log(\"connected\");\n        });\n    }\n\n    preload(){\n        this.load.image(\"ship\", \"./asteroids_ship.png\");\n    }\n\n    create(){\n        this.ship = this.physics.add.image(400, 300, \"ship\");\n        this.ship.setCollideWorldBounds(true);\n        this.keyA = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\n        this.socket.on(\"move\", ()=>{\n           this.ship.rotation += Math.PI/90;\n        });\n    }\n\n    update(){\n        if(this.keyA.isDown) {\n            this.ship.rotation += Math.PI/90;\n            this.socket.emit(\"move\");\n        }\n    }\n}"]}]}