{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue","mtime":1616357090786},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1610909371551},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1610909425518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2phY29wby9Wb2x1bWVEYXRpL0RvY3VtZW50aS9wYXBlcm8udGsvYXN0cm8ucGFwZXJvLm1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gInBoYXNlciI7CmltcG9ydCB7IGNvbmZpZywgc3RyaW5ncyB9IGZyb20gIi4uLy4uL2NvbnN0YW50cy9jb25zdGFudHMiOwppbXBvcnQgTG9iYnlTY2VuZSBmcm9tICIuLi8uLi9zY2VuZXMvTG9iYnlTY2VuZSI7CmltcG9ydCBDaGFuZ2VDb2xvciBmcm9tICIuL2xvYmJ5Q29tcG9uZW50cy9DaGFuZ2VDb2xvciI7CmltcG9ydCBDb3B5SW5mb3JtYXRpb24gZnJvbSAiLi9sb2JieUNvbXBvbmVudHMvQ29weUluZm9ybWF0aW9uIjsKaW1wb3J0IHdlYnNvY2tldEV2ZW50cyBmcm9tICIuLi8uLi9jb25zdGFudHMvd2Vic29ja2V0RXZlbnRzIjsKaW1wb3J0IEdhbWVTZXR0aW5ncyBmcm9tICIuL2xvYmJ5Q29tcG9uZW50cy9HYW1lU2V0dGluZ3MiOwppbXBvcnQgbWl0dCBmcm9tICJtaXR0IjsKd2luZG93Lm1pdHQgPSB3aW5kb3cubWl0dCB8fCBtaXR0KCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9iYnkiLAogIGNvbXBvbmVudHM6IHsKICAgIEdhbWVTZXR0aW5nczogR2FtZVNldHRpbmdzLAogICAgQ29weUluZm9ybWF0aW9uOiBDb3B5SW5mb3JtYXRpb24sCiAgICBDaGFuZ2VDb2xvcjogQ2hhbmdlQ29sb3IKICB9LAogIHByb3BzOiB7CiAgICBzb2NrZXQ6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0cmluZ3M6IHN0cmluZ3MsCiAgICAgIHdlYnNvY2tldEV2ZW50czogd2Vic29ja2V0RXZlbnRzLAoKICAgICAgLyogICAgICBnYW1lOiB7CiAgICAgICAgICAgICAgcGxheWVyczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBsb2NhbElkOiAwLAogICAgICAgICAgICAgICAgICBjb2xvcjogMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbG9jYWxJZDogMSwKICAgICAgICAgICAgICAgICAgY29sb3I6IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIGFkbWluOiAwLAogICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXI6IDEsCiAgICAgICAgICAgICAgc2V0dGluZ3M6IHsKICAgICAgICAgICAgICAgIHRvdGFsVHVybnM6IDUsCiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogMiwKICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogMiwKICAgICAgICAgICAgICAgIHJlbG9hZGluZ1ZlbG9jaXR5OiAyCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9Ki8KICAgICAgZ2FtZTogewogICAgICAgIHNldHRpbmdzOiB7CiAgICAgICAgICB0b3RhbFR1cm5zOiA1LAogICAgICAgICAgdmVsb2NpdHk6IDIsCiAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IDIsCiAgICAgICAgICByZWxvYWRpbmdWZWxvY2l0eTogMgogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWVycy13cmFwcGVyIik7CiAgICBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKExvYmJ5U2NlbmUsIHBhcmVudCwgTWF0aC5taW4ocGFyZW50Lm9mZnNldFdpZHRoLCBwYXJlbnQub2Zmc2V0SGVpZ2h0KSwgTWF0aC5taW4ocGFyZW50Lm9mZnNldFdpZHRoLCBwYXJlbnQub2Zmc2V0SGVpZ2h0KSkpOwogICAgdGhpcy5zb2NrZXQub24od2Vic29ja2V0RXZlbnRzLkxPQkJZX01PRElGSUVELCBmdW5jdGlvbiAoZ2FtZSkgewogICAgICBjb25zb2xlLmxvZyhnYW1lKTsKICAgICAgX3RoaXMuZ2FtZSA9IF9vYmplY3RTcHJlYWQoe30sIGdhbWUpOwogICAgICB3aW5kb3cubWl0dC5lbWl0KHdlYnNvY2tldEV2ZW50cy5MT0JCWV9NT0RJRklFRCwgZ2FtZSk7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnYW1lSWQ6IGZ1bmN0aW9uIGdhbWVJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5nYW1lSWQ7CiAgICB9LAogICAgaXNBZG1pbjogZnVuY3Rpb24gaXNBZG1pbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5hZG1pbiA9PT0gdGhpcy5nYW1lLmN1cnJlbnRQbGF5ZXI7CiAgICB9LAogICAgbGluazogZnVuY3Rpb24gbGluaygpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgam9pbkdhbWU6IGZ1bmN0aW9uIGpvaW5HYW1lKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KHdlYnNvY2tldEV2ZW50cy5KT0lOX0dBTUUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue"],"names":[],"mappings":";AAqBA,OAAO,KAAK,MAAZ,MAAwB,QAAxB;AACA,SAAQ,MAAR,EAAgB,OAAhB,QAA8B,2BAA9B;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,WAAP,MAAwB,+BAAxB;AACA,OAAO,eAAP,MAA4B,mCAA5B;AACA,OAAO,eAAP,MAA4B,iCAA5B;AACA,OAAO,YAAP,MAAyB,gCAAzB;AACA,OAAO,IAAP,MAAiB,MAAjB;AACA,MAAM,CAAC,IAAP,GAAc,MAAM,CAAC,IAAP,IAAe,IAAI,EAAjC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,YAAY,EAAZ,YAAD;AAAe,IAAA,eAAe,EAAf,eAAf;AAAgC,IAAA,WAAW,EAAX;AAAhC,GAFC;AAGb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AADH,GAHM;AAMb,EAAA,IANa,kBAMP;AACJ,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,eAAe,EAAf,eAFK;;AAGX;AACQ;AACE;AACE;AACA;AACF;AACA;AACE;AACA;AACF;AACF;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACF;AACF;AACA,MAAA,IAAI,EAAE;AACJ,QAAA,QAAQ,EAAE;AACR,UAAA,UAAU,EAAE,CADJ;AAER,UAAA,QAAQ,EAAE,CAFF;AAGR,UAAA,eAAe,EAAE,CAHT;AAIR,UAAA,iBAAiB,EAAE;AAJX;AADN;AAvBD,KAAP;AAgCD,GAvCY;AAwCb,EAAA,OAxCa,qBAwCH;AAAA;;AACR,QAAI,MAAK,GAAI,QAAQ,CAAC,cAAT,CAAwB,iBAAxB,CAAb;AACA,QAAI,MAAM,CAAC,IAAX,CACI,MAAM,CACF,UADE,EAEF,MAFE,EAGF,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,MAAM,CAAC,YAApC,CAHE,EAIF,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,MAAM,CAAC,YAApC,CAJE,CADV;AAOA,SAAK,MAAL,CAAY,EAAZ,CAAe,eAAe,CAAC,cAA/B,EAA+C,UAAC,IAAD,EAAQ;AACrD,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,MAAA,KAAI,CAAC,IAAL,qBAAgB,IAAhB;AACA,MAAA,MAAM,CAAC,IAAP,CAAY,IAAZ,CAAiB,eAAe,CAAC,cAAjC,EAAiD,IAAjD;AACD,KAJD;AAKD,GAtDY;AAuDb,EAAA,QAAQ,EAAE;AACR,IAAA,MAAM,EAAE,kBAAY;AAClB,aAAO,KAAK,MAAL,CAAY,MAAZ,CAAmB,MAA1B;AACD,KAHO;AAIR,IAAA,OAAO,EAAE,mBAAW;AAClB,aAAO,KAAK,IAAL,CAAU,KAAV,KAAoB,KAAK,IAAL,CAAU,aAArC;AACD,KANO;AAOR,IAAA,IAAI,EAAE,gBAAU;AACd,aAAO,MAAM,CAAC,QAAP,CAAgB,IAAvB;AACF;AATQ,GAvDG;AAkEb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACG;AACR,WAAK,MAAL,CAAY,IAAZ,CAAiB,eAAe,CAAC,SAAjC;AACF;AAHO;AAlEI,CAAf","sourcesContent":["<template>\n  <div class=\"lobby\">\n    <h1>{{gameId}}</h1>\n\n    <GameSettings  v-if=\"game.currentPlayer!==null\"\n                   :game=\"game\"\n                   :socket=\"socket\"/>\n\n    <button class=\"join-button\" v-else @click=\"joinGame\">{{strings.gameView.lobby.joinLobby}}</button>\n\n    <div id=\"players-wrapper\"/>\n\n    <div class=\"infos\">\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\n      <CopyInformation :msg=\"strings.gameView.lobby.shareTheLink\" :info=\"link\"/>\n      <CopyInformation :msg=\"strings.gameView.lobby.copyTag\" :info=\"gameId\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as Phaser from \"phaser\";\nimport {config, strings} from \"../../constants/constants\";\nimport LobbyScene from \"../../scenes/LobbyScene\";\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\nimport CopyInformation from \"./lobbyComponents/CopyInformation\";\nimport websocketEvents from \"../../constants/websocketEvents\";\nimport GameSettings from \"./lobbyComponents/GameSettings\";\nimport mitt from \"mitt\";\nwindow.mitt = window.mitt || mitt();\nexport default {\n  name: \"Lobby\",\n  components: {GameSettings, CopyInformation, ChangeColor},\n  props: {\n    socket: Object\n  },\n  data(){\n    return {\n      strings,\n      websocketEvents,\n/*      game: {\n        players: [\n          {\n            localId: 0,\n            color: 0\n          },\n          {\n            localId: 1,\n            color: 1\n          }\n        ],\n        admin: 0,\n        currentPlayer: 1,\n        settings: {\n          totalTurns: 5,\n          velocity: 2,\n          angularVelocity: 2,\n          reloadingVelocity: 2\n        }\n      }*/\n      game: {\n        settings: {\n          totalTurns: 5,\n          velocity: 2,\n          angularVelocity: 2,\n          reloadingVelocity: 2\n        }\n      }\n    }\n  },\n  mounted() {\n    let parent = document.getElementById(\"players-wrapper\");\n    new Phaser.Game(\n        config(\n            LobbyScene,\n            parent,\n            Math.min(parent.offsetWidth, parent.offsetHeight),\n            Math.min(parent.offsetWidth, parent.offsetHeight)\n        ));\n    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\n      console.log(game);\n      this.game = {...game};\n      window.mitt.emit(websocketEvents.LOBBY_MODIFIED, game);\n    });\n  },\n  computed: {\n    gameId: function () {\n      return this.$route.params.gameId;\n    },\n    isAdmin: function (){\n      return this.game.admin === this.game.currentPlayer;\n    },\n    link: function(){\n      return window.location.href;\n    }\n  },\n  methods: {\n    joinGame(){\n      this.socket.emit(websocketEvents.JOIN_GAME);\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.lobby{\n  width: 100%;\n  height: 100%;\n  display: grid;\n  justify-items: center;\n  @media (min-width: 751px) {\n    grid-template-rows: 20% 80%;\n    grid-template-columns: 30% 40% 30%;\n    grid-template-areas: \"title title title\" \"settings phaser infos\";\n  }\n  @media (max-width: 751px) {\n    grid-template-rows: auto 300px auto auto;\n    grid-template-columns: 1fr;\n    grid-template-areas: \"title\" \"phaser\" \"infos\" \"settings\";\n    overflow: scroll;\n  }\n\n  h1{\n    grid-area: title;\n  }\n\n  .join-button{\n    grid-area: settings;\n    height: fit-content;\n    align-self: center;\n  }\n\n  #players-wrapper{\n    width: 80%;\n    height: 80%;\n    display: flex;\n    flex-flow: row;\n    grid-area: phaser;\n    margin-top: 20px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .infos{\n    grid-area: infos;\n    width: 100%;\n    height: 80%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-evenly;\n  }\n}\n\n</style>"],"sourceRoot":""}]}