{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue","mtime":1616262730331},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":1610909371551},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/babel-loader/lib/index.js","mtime":1610909371562},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":1610909371557},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1610909425518}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgUGhhc2VyIGZyb20gInBoYXNlciI7CmltcG9ydCB7IGNvbmZpZywgc3RyaW5ncyB9IGZyb20gIi4uLy4uL2NvbnN0YW50cy9jb25zdGFudHMiOwppbXBvcnQgTG9iYnlTY2VuZSBmcm9tICIuLi8uLi9zY2VuZXMvTG9iYnlTY2VuZSI7CmltcG9ydCBDaGFuZ2VDb2xvciBmcm9tICIuL2xvYmJ5Q29tcG9uZW50cy9DaGFuZ2VDb2xvciI7CmltcG9ydCBTZXRUb3RhbFR1cm5zIGZyb20gIi4vbG9iYnlDb21wb25lbnRzL1NldFRvdGFsVHVybnMiOyAvL2ltcG9ydCB3ZWJzb2NrZXRFdmVudHMgZnJvbSAiLi4vLi4vY29uc3RhbnRzL3dlYnNvY2tldEV2ZW50cyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvYmJ5IiwKICBjb21wb25lbnRzOiB7CiAgICBTZXRUb3RhbFR1cm5zOiBTZXRUb3RhbFR1cm5zLAogICAgQ2hhbmdlQ29sb3I6IENoYW5nZUNvbG9yCiAgfSwKICBwcm9wczogewogICAgc29ja2V0OiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHJpbmdzOiBzdHJpbmdzLAogICAgICBnYW1lOiB7CiAgICAgICAgcGxheWVyczogWzAsIDFdLAogICAgICAgIGFkbWluOiAwLAogICAgICAgIGN1cnJlbnRQbGF5ZXI6IDEsCiAgICAgICAgdG90YWxUdXJuczogNQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWVycy13cmFwcGVyIik7CiAgICBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKG5ldyBMb2JieVNjZW5lKHRoaXMuc29ja2V0LCB0aGlzLmdhbWUucGxheWVycywgdGhpcy5nYW1lLmN1cnJlbnRQbGF5ZXIpLCBwYXJlbnQsIHBhcmVudC5vZmZzZXRXaWR0aCwgcGFyZW50Lm9mZnNldEhlaWdodCkpOwogICAgLyogICAgdGhpcy5zb2NrZXQub24od2Vic29ja2V0RXZlbnRzLkxPQkJZX01PRElGSUVELCAoZ2FtZSk9PnsKICAgICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7CiAgICAgICAgfSk7Ki8KICB9LAogIGNvbXB1dGVkOiB7CiAgICBnYW1lSWQ6IGZ1bmN0aW9uIGdhbWVJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5nYW1lSWQ7CiAgICB9LAogICAgaXNBZG1pbjogZnVuY3Rpb24gaXNBZG1pbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5hZG1pbiA9PT0gdGhpcy5nYW1lLmN1cnJlbnRQbGF5ZXI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/astro.papero.me/src/components/gameComponents/Lobby.vue"],"names":[],"mappings":"AAmBA,OAAO,KAAK,MAAZ,MAAwB,QAAxB;AACA,SAAQ,MAAR,EAAgB,OAAhB,QAA8B,2BAA9B;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,WAAP,MAAwB,+BAAxB;AACA,OAAO,aAAP,MAA0B,iCAA1B,C,CACA;;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,aAAa,EAAb,aAAD;AAAgB,IAAA,WAAW,EAAX;AAAhB,GAFC;AAGb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AADH,GAHM;AAMb,EAAA,IANa,kBAMP;AACJ,WAAM;AACJ,MAAA,OAAO,EAAP,OADI;AAEJ,MAAA,IAAI,EAAE;AACJ,QAAA,OAAO,EAAE,CAAC,CAAD,EAAG,CAAH,CADL;AAEJ,QAAA,KAAK,EAAE,CAFH;AAGJ,QAAA,aAAa,EAAE,CAHX;AAIJ,QAAA,UAAU,EAAE;AAJR;AAFF,KAAN;AASD,GAhBY;AAiBb,EAAA,OAjBa,qBAiBH;AACR,QAAI,MAAK,GAAI,QAAQ,CAAC,cAAT,CAAwB,iBAAxB,CAAb;AACA,QAAI,MAAM,CAAC,IAAX,CACI,MAAM,CACF,IAAI,UAAJ,CAAe,KAAK,MAApB,EAA4B,KAAK,IAAL,CAAU,OAAtC,EAA+C,KAAK,IAAL,CAAU,aAAzD,CADE,EAEF,MAFE,EAGF,MAAM,CAAC,WAHL,EAIF,MAAM,CAAC,YAJL,CADV;AAQJ;AACM;AACF;AACD,GA9BY;AA+Bb,EAAA,QAAQ,EAAE;AACR,IAAA,MAAM,EAAE,kBAAY;AAClB,aAAO,KAAK,MAAL,CAAY,MAAZ,CAAmB,MAA1B;AACD,KAHO;AAIR,IAAA,OAAO,EAAE,mBAAW;AAClB,aAAO,KAAK,IAAL,CAAU,KAAV,KAAoB,KAAK,IAAL,CAAU,aAArC;AACF;AANQ;AA/BG,CAAf","sourcesContent":["<template>\n  <div class=\"lobby\">\n    <h1>{{gameId}}</h1>\n    <div class=\"settings\" v-if=\"game.currentPlayer!==null\">\n      <ChangeColor :socket=\"socket\" :players=\"game.players\"/>\n      <div class=\"admin-reserved\">\n        <span>{{strings.gameView.lobby.adminSettings}}</span>\n        <SetTotalTurns :game=\"game\"\n                       :socket=\"socket\"/>\n        <button :disabled=\"!isAdmin\">{{strings.gameView.lobby.startGame}}</button>\n        <div class=\"not-admin\" v-if=\"!isAdmin\"/>\n      </div>\n    </div>\n    <button class=\"join-button\" v-else>{{strings.gameView.lobby.joinLobby}}</button>\n    <div id=\"players-wrapper\"/>\n  </div>\n</template>\n\n<script>\nimport * as Phaser from \"phaser\";\nimport {config, strings} from \"../../constants/constants\";\nimport LobbyScene from \"../../scenes/LobbyScene\";\nimport ChangeColor from \"./lobbyComponents/ChangeColor\";\nimport SetTotalTurns from \"./lobbyComponents/SetTotalTurns\";\n//import websocketEvents from \"../../constants/websocketEvents\";\nexport default {\n  name: \"Lobby\",\n  components: {SetTotalTurns, ChangeColor},\n  props: {\n    socket: Object\n  },\n  data(){\n    return{\n      strings,\n      game: {\n        players: [0,1],\n        admin: 0,\n        currentPlayer: 1,\n        totalTurns: 5\n      }\n    }\n  },\n  mounted() {\n    let parent = document.getElementById(\"players-wrapper\");\n    new Phaser.Game(\n        config(\n            new LobbyScene(this.socket, this.game.players, this.game.currentPlayer),\n            parent,\n            parent.offsetWidth,\n            parent.offsetHeight\n        ));\n\n/*    this.socket.on(websocketEvents.LOBBY_MODIFIED, (game)=>{\n      this.game = game;\n    });*/\n  },\n  computed: {\n    gameId: function () {\n      return this.$route.params.gameId;\n    },\n    isAdmin: function (){\n      return this.game.admin === this.game.currentPlayer;\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.lobby{\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-rows: 20% 70%;\n  grid-template-columns: 30% 40% 30%;\n  grid-template-areas: \"title title title\" \"settings phaser infos\";\n  justify-items: center;\n\n  h1{\n    grid-area: title;\n  }\n\n  .settings{\n    grid-area: settings;\n    display: flex;\n    flex-flow: column;\n\n    .admin-reserved{\n      position: relative;\n      margin-top: 20%;\n      border: 1px solid white;\n      padding: 2% 2% 5% 2%;\n\n      span{\n        position: absolute;\n        top: -40px;\n        left: 0;\n        color: white;\n        font-size: 200%;\n      }\n\n      .not-admin{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: rgba(0,0,0,0.4);\n      }\n    }\n  }\n\n  .join-button{\n    grid-area: settings;\n    height: fit-content;\n    align-self: center;\n  }\n\n  #players-wrapper{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: row;\n    justify-content: center;\n    align-items: center;\n    grid-area: phaser;\n  }\n}\n\n</style>"],"sourceRoot":""}]}